# Лекция 01. Введение в веб-технологии: история, эволюция, современные тренды

План:
- История развития веба: от статических страниц к динамическим приложениям
- Ключевые этапы: CGI, AJAX, Web 2.0, SPA, PWA, облачные решения
- Современные тренды: JAMstack, микрофронтенды, serverless, edge computing

Практика: анализ архитектуры популярных веб-приложений (Google Docs, Trello, Medium).

Чтение: MDN Web Docs (overview), "Building Web Apps with JAMstack" (главы 1–2).

## Материал для лекции

### 1. История развития веба
**Теория:**  
Веб зародился в 1991 году с публикацией первого сайта и языка HTML, созданного Тимом Бернерсом-Ли.  
HTML позволял структурировать текст, добавлять ссылки и изображения, но не поддерживал интерактивность.  
Первые браузеры (Mosaic, Netscape) открыли доступ к информации для миллионов пользователей, заложив основы глобальной сети.  
Статические сайты — это простые HTML-файлы, размещённые на сервере. Пользователь мог только просматривать контент, взаимодействие ограничивалось переходами по ссылкам.  
**Пример:**  
- Самый первый сайт: http://info.cern.ch — только текст, ссылки на другие документы.
- Простейший HTML:  
  ```html
  <html>
    <head><title>Пример</title></head>
    <body>
      <h1>Добро пожаловать!</h1>
      <p>Это первая страница.</p>
      <a href="about.html">О сайте</a>
    </body>
  </html>
  ```
Появление CSS (1996) позволило отделить оформление от структуры, а JavaScript (1995) — добавить динамику: валидацию форм, простые анимации, обработку событий.  
**Пример:**  
- Простая валидация формы на JS:
  ```html
  <form onsubmit="return validate()">
    <input id="email" type="email" required>
    <button type="submit">Отправить</button>
  </form>
  <script>
    function validate() {
      const email = document.getElementById('email').value;
      if (!email.includes('@')) {
        alert('Введите корректный email!');
        return false;
      }
      return true;
    }
  </script>
  ```
CGI (Common Gateway Interface) — первый способ создавать динамические страницы. Сервер запускал внешние скрипты для обработки запросов (например, формы обратной связи).  
**Пример:**  
- Гостевая книга на Perl: пользователь заполняет форму, сервер сохраняет запись в файл и показывает обновлённую страницу.

Недостатки CGI: низкая производительность, отсутствие масштабируемости, сложность поддержки.  
В 2000-х годах наступила эра Web 2.0:  
- AJAX (Asynchronous JavaScript and XML) позволил обновлять части страницы без полной перезагрузки, реализовать автозаполнение, динамические списки, чаты.  
**Пример:**  
- Google Suggest: при вводе текста в поиске появляются подсказки без перезагрузки страницы.
- Простейший AJAX-запрос:
  ```javascript
  fetch('/api/data')
    .then(response => response.json())
    .then(data => console.log(data));
  ```
- Появились социальные сети (Facebook, Twitter), блоги, платформы для совместной работы.  
- Пользователь стал не только потребителем, но и создателем контента.  
SPA (Single Page Application) — приложения, где вся логика маршрутизации и отображения реализована на клиенте.  
- Сервер отдаёт один HTML-файл, а дальнейшее взаимодействие происходит через API.  
- Преимущества: высокая скорость, отзывчивость, возможность работы офлайн.  
**Пример:**  
- Gmail, Trello, Google Docs — интерфейс не перезагружается, данные подгружаются динамически.
PWA (Progressive Web Apps) — гибрид веба и мобильных приложений:  
- Офлайн-режим, push-уведомления, установка на рабочий стол, интеграция с устройством.  
- Используются сервис-воркеры для кэширования и обработки запросов.  
**Пример:**  
- Twitter Lite — работает даже при плохом интернете, можно добавить на главный экран телефона.
Облачные решения (cloud computing) — перенос хранения данных и вычислений на удалённые серверы.  
- Позволяют масштабировать приложения, обеспечивать отказоустойчивость, снижать затраты на инфраструктуру.  
- Примеры: Google Cloud, AWS, Azure.
- **Пример:**  
  - Хостинг сайта на GitHub Pages или Netlify — не нужен свой сервер, всё работает "в облаке".

### 2. Ключевые этапы эволюции
**Теория:**  
- **CGI:**  
  - Серверная технология, позволяющая запускать внешние скрипты для обработки HTTP-запросов.  
  - Скрипты писались на Perl, PHP, Python, возвращали динамически сгенерированный HTML.  
  - Проблемы: каждый запрос запускал отдельный процесс, что приводило к перегрузке при большом числе пользователей.  
  - **Пример:** Форма обратной связи на сайте, где сообщение сохраняется в файл или отправляется на email.
- **AJAX:**  
  - Позволяет браузеру отправлять асинхронные запросы к серверу и получать данные без перезагрузки страницы.  
  - Используется для автозаполнения, динамических фильтров, обновления корзины покупок.  
  - XMLHttpRequest, а позже fetch API — основные инструменты.  
  - **Пример:**  
    - Автоматическая подгрузка товаров при прокрутке страницы (infinite scroll).
    - Чат, где новые сообщения появляются без обновления страницы.
- **Web 2.0:**  
  - Сайты стали платформами для общения, совместной работы, публикации контента.  
  - API позволили интегрировать сторонние сервисы, создавать mashup-приложения.  
  - **Пример:**  
    - Встраивание Google Maps на свой сайт.
    - Кнопки "Поделиться" в соцсетях.
- **SPA:**  
  - Вся логика приложения реализована на клиенте, сервер отдаёт только данные через API.  
  - Используются фреймворки: React, Angular, Vue.  
  - Преимущества: мгновенная навигация, меньше трафика, возможность работы офлайн.  
  - Недостатки: сложность SEO, необходимость SSR для индексации.
  - **Пример:**  
    - Одностраничный интернет-магазин, где переходы между разделами происходят мгновенно.
- **PWA:**  
  - Приложения, работающие в браузере, но обладающие возможностями нативных:  
    - Офлайн-режим (кэширование данных), push-уведомления, установка на рабочий стол.  
    - Сервис-воркеры — скрипты, работающие в фоне, обеспечивают кэширование и обработку событий.  
  - **Пример:**  
    - Starbucks PWA — можно оформить заказ даже без интернета, а при появлении связи заказ отправится автоматически.
- **JAMstack:**  
  - Архитектура, разделяющая фронтенд (статически сгенерированные страницы, размещённые на CDN) и бэкенд (API, функции).  
  - Страницы генерируются заранее, быстро доставляются пользователю, динамика реализуется через API.  
  - Преимущества: высокая производительность, безопасность, простота масштабирования.  
  - **Пример:**  
    - Блог на Hugo или Gatsby, где все страницы статичны, а комментарии реализованы через внешний сервис (например, Disqus).
- **Микрофронтенды:**  
  - Интерфейс состоит из независимых частей (микрофронтендов), каждая разрабатывается и деплоится отдельно.  
  - Позволяет использовать разные технологии, облегчает поддержку больших проектов.  
  - **Пример:**  
    - В интернет-магазине корзина, каталог и профиль пользователя реализованы как отдельные приложения, но выглядят как единое целое.
- **Serverless:**  
  - Модель, при которой разработчик пишет только бизнес-логику, а инфраструктура полностью управляется облаком.  
  - Функции запускаются по событию, автоматически масштабируются, оплата только за фактическое выполнение.  
  - **Пример:**  
    - Обработка загрузки изображений через AWS Lambda: пользователь загружает фото, функция автоматически уменьшает размер и сохраняет в облако.
- **Edge computing:**  
  - Обработка данных ближе к пользователю, на границе сети (CDN, edge-узлы).  
  - Снижение задержек, увеличение производительности, возможность персонализации.  
  - **Пример:**  
    - Проверка авторизации пользователя прямо на CDN-узле, чтобы быстрее отдавать защищённый контент.

### 3. Современные тренды
**Теория:**  
- **JAMstack:**  
  - Использование статической генерации страниц, размещение на CDN, динамика через API.  
  - Преимущества: высокая скорость загрузки, безопасность (нет серверной логики на фронте), простота деплоя, масштабируемость.  
  - Недостатки: ограниченная динамика, необходимость интеграции с внешними сервисами.
  - **Пример:**  
    - Персональный сайт-портфолио, где все страницы статичны, а форма обратной связи отправляет данные через внешний API.
- **Микрофронтенды:**  
  - Позволяют разделять большие приложения на независимые части, каждая из которых может использовать свой стек технологий и разрабатываться отдельной командой.  
  - Обеспечивают независимые деплои, упрощают масштабирование, снижают риски при обновлениях.  
  - Вызовы: интеграция, совместимость, производительность.
  - **Пример:**  
    - Корпоративный портал, где календарь, чат и задачи реализованы разными командами и могут обновляться независимо.
- **Serverless:**  
  - Автоматизация инфраструктуры, оплата только за реально выполненные вычисления, автоматическое масштабирование.  
  - Упрощает разработку, снижает затраты, позволяет быстро запускать новые сервисы.  
  - Ограничения: cold start, лимиты на время выполнения, сложность отладки.
  - **Пример:**  
    - Форма обратной связи на сайте, которая отправляет письмо через облачную функцию, не требуя отдельного сервера.
- **Edge computing:**  
  - Перенос вычислений ближе к пользователю, например, обработка запросов на CDN-узлах.  
  - Уменьшает задержки, позволяет реализовать новые сценарии (A/B тесты, персонализация, фильтрация трафика).  
  - **Пример:**  
    - Быстрая персонализация главной страницы в зависимости от региона пользователя прямо на edge-узле.
- **DevOps и CI/CD:**  
  - Автоматизация процессов тестирования, сборки и деплоя.  
  - Быстрый выпуск новых версий, контроль качества, rollback при ошибках.  
  - Инструменты: Jenkins, GitHub Actions, GitLab CI, Docker, Kubernetes.
  - **Пример:**  
    - Каждый коммит в репозиторий автоматически разворачивает новую версию сайта на тестовом сервере.
- **Облачные платформы:**  
  - AWS, Azure, GCP предоставляют готовую инфраструктуру, сервисы для хранения, вычислений, мониторинга, безопасности.  
  - Позволяют быстро запускать и масштабировать приложения, использовать инфраструктуру как код (Terraform, CloudFormation).
  - **Пример:**  
    - Хранение изображений сайта в облачном бакете, автоматическое резервное копирование данных.

### 4. Практические аспекты
**Теория:**  
- **Google Docs:**  
  - Пример SPA с real-time синхронизацией данных между пользователями через WebSockets.  
  - Использует облачные сервисы для хранения и обработки документов, обеспечивает масштабируемость и отказоустойчивость.  
  - Архитектура: клиент (SPA), сервер (API + WebSocket), облачное хранилище, балансировщики нагрузки.
  - **Пример для начинающих:**  
    - Одновременное редактирование документа несколькими пользователями — изменения появляются у всех в реальном времени.
- **Trello:**  
  - Использует drag-and-drop интерфейс, поддерживает офлайн-режим через локальное хранилище и синхронизацию данных при восстановлении соединения.  
  - Архитектура: клиент (SPA), сервер (API), синхронизация через WebSocket, локальное хранилище IndexedDB.
  - **Пример для начинающих:**  
    - Перетаскивание карточки между колонками — изменения сохраняются и отображаются у других пользователей.
- **Medium:**  
  - Применяет серверный рендеринг (SSR) для SEO, динамическую загрузку контента, адаптивный дизайн для разных устройств.  
  - Архитектура: SSR (Node.js), клиент (SPA), API, CDN для статических ресурсов.
  - **Пример для начинающих:**  
    - Открытие статьи на Medium — сначала загружается текст, затем подгружаются изображения и комментарии.
- **Вопросы для обсуждения:**  
  - Почему современные приложения переходят к SPA/PWA/JAMstack?  
    - Быстрота, удобство, офлайн-режим, масштабируемость, независимость команд.
  - Какие плюсы и минусы у serverless и edge computing?  
    - Плюсы: автоматизация, масштабирование, снижение затрат, минусы: ограничения, cold start, сложность отладки, зависимость от облака.
  - Как DevOps изменил процесс разработки веб-приложений?  
    - Автоматизация, быстрый выпуск, контроль качества, rollback, инфраструктура как код, мониторинг.

---

**Практика:**
- Разберите архитектуру выбранного веб-приложения: какие технологии используются, как обеспечивается масштабируемость и отказоустойчивость.
- Сравните подходы: традиционный сервер vs JAMstack vs serverless.
- **Дополнительные задания для начального уровня:**
  - Нарисуйте схему архитектуры простого сайта (HTML + CSS + JS) и укажите, где происходит обработка данных.
  - Попробуйте создать простую страницу с формой и реализовать валидацию на JavaScript.
  - Найдите сайт, который работает офлайн (например, Twitter Lite), и опишите, как это реализовано.
  - Зарегистрируйтесь на бесплатном облачном хостинге (например, Netlify) и разместите свой статический сайт.

<!-- ...existing code for other lectures... -->
