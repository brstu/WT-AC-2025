# Министерство образования Республики Беларусь

<p align="center">Учреждение образования</p>
<p align="center">“Брестский Государственный технический университет”</p>
<p align="center">Кафедра ИИТ</p>
<br><br><br><br><br><br>
<p align="center"><strong>Лабораторная работа №__</strong></p>
<p align="center"><strong>По дисциплине:</strong> “Веб-технологии”</p>
<p align="center"><strong>Тема:</strong>Серверное REST API на Node.js + Express (валидация, ошибки, Swagger)</p>
<br><br><br><br><br><br>
<p align="right"><strong>Выполнил:</strong></p>
<p align="right">Студент 4 курса</p>
<p align="right">Группы АС-63</p>
<p align="right">Грицук Д.Ю.</p>
<p align="right"><strong>Проверил:</strong></p>
<p align="right">Несюк А.Н.</p>
<br><br><br><br><br>
<p align="center"><strong>Брест 2025</strong></p>

---

## Цель работы

Разработка REST API для управления заметками с использованием Node.js и Express framework, включая валидацию входных данных, централизованную обработку ошибок и автоматическую документацию через Swagger UI.

---

### Вариант №3

## Ход выполнения работы

### 1. Структура проекта

task_05/ <br>
├── images # Скриншоты для отчета <br>
├── src/ <br>
│ ├── app.js # Основной файл приложения <br>
│ ├── server.js # Точка входа сервера <br>
│ ├── routes/ <br>
│ │ └── media.routes.js # Маршруты API для фильмов/сериалов <br>
│ ├── controllers/ <br>
│ │ └── media.controller.js # Логика обработки запросов <br>
│ ├── services/
│ │   └── media.service.js  # Бизнес-логика и работа с данными <br>
│ ├── schemas/
│ │   └── media.schema.js   # Схемы валидации Joi <br>
│ ├── middleware/ <br>
│ │ ├── errorHandler.js # Централизованный обработчик ошибок <br>
│ │ └── validation.js # Middleware для валидации <br>
│ └── utils/ <br>
│ └── AppError.js # Кастомный класс ошибок <br>
├── .env # Переменные окружения <br>
├── README.md # Документация проекта <br>
└── package.json # Зависимости и скрипты проекта

### 2. Реализованные элементы 
**Базовая функциональность:**
- REST API с CRUD операциями для ресурса "заметки"
- Временное хранение данных в памяти с начальным набором данных
- Middleware: express.json(), cors, morgan для логирования
- Переменные окружения через .env

**Валидация и ошибки:**
- Валидация входных данных с использованием Joi с условными правилами
- Кастомные классы ошибок (AppError)
- Централизованный обработчик ошибок с разными форматами для dev/prod
- Соответствующие HTTP статус-коды (200, 201, 204, 400, 404, 422, 500)

**Документация и дополнительные возможности:**
- Автоматическая документация Swagger UI на /docs
- Фильтрация по жанрам, типу (movie/series) и поиск по названию
- Пагинация с метаданными (total, limit, offset, hasMore)
- Версионирование API (/api/v1)
- Статистика по каталогу и получение списка жанров
- Условная валидация (duration для фильмов, seasons для сериалов)

### 3. Скриншоты выполненой лабораторной работы

1. **Swagger документация** - http://localhost:3000/docs

   <img src=images/swagger.jpg>

---

## Таблица критериев

| Критерий | Выполнено | Примечания |
|----------|-----------|------------|
| Структура/семантика API | ✅ | RESTful архитектура, правильные HTTP методы, версионирование |
| Функциональность CRUD | ✅ | Полный набор операций GET, POST, PATCH, DELETE |
| Валидация входных данных | ✅ | Joi схемы с условной валидацией для movie/series |
| Обработка ошибок | ✅ | Централизованный error handler с кастомными ошибками |
| HTTP статус-коды | ✅ | 200, 201, 204, 400, 404, 422, 500 |
| Документация Swagger | ✅ | Полная документация на русском на /api-docs |
| Качество кода/архитектура | ✅ | Модульная структура (MVC + сервисы) |
| Переменные окружения | ✅ |    .env файл с настройками порта и режима |

### Дополнительные бонусы

| Бонус | Выполнено | Примечания |
|-------|-----------|------------|
| Фильтрация/поиск/сортировка | ✅ | Поиск по названию, фильтрация по жанру и типу |
| Пагинация с метаданными | ✅ | total, limit, offset, hasMore |
| Версионирование API | ✅ | /api/v1 префикс для всех маршрутов |

---

## Вывод

В ходе лабораторной работы был разработан полнофункциональный REST API для управления каталогом фильмов и сериалов с использованием Node.js и Express.
