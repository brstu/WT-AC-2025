# üç≥ API —Ä–µ—Ü–µ–ø—Ç–æ–≤ –Ω–∞ Node.js + Express

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞–º–∏ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–∞ Node.js —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Express, –≤–∫–ª—é—á–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Swagger.

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** –¥–ª—è —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Zod
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –¥–ª—è —Å–ø–∏—Å–∫–æ–≤
- **–ü–æ–∏—Å–∫** –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –æ–ø–∏—Å–∞–Ω–∏—é –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenAPI** —Å Swagger UI
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- **–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** –≤ –ø–∞–º—è—Ç–∏

### –ú–∞—Ä—à—Ä—É—Ç—ã API:

- `GET    /api/v1/recipes` - —Å–ø–∏—Å–æ–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- `GET    /api/v1/recipes/:id` - –¥–µ—Ç–∞–ª–∏ —Ä–µ—Ü–µ–ø—Ç–∞
- `POST   /api/v1/recipes` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞
- `PUT    /api/v1/recipes/:id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞
- `PATCH  /api/v1/recipes/:id` - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DELETE /api/v1/recipes/:id` - —É–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞
- `GET    /api/v1/categories` - —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `GET    /api/v1/recipes/search` - –ø–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤
- `GET    /api/v1/recipes/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª .env.example –≤ .env:

```bash
cp .env.example .env
```

### 3. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev
```
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```text
http://localhost:3000/api/v1/docs
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:

```bash
npm test
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ watch:

```bash
npm run test:watch
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏:

```bash
npm test -- --coverage
```

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

```bash
npm start - –∑–∞–ø—É—Å–∫ –≤ production —Ä–µ–∂–∏–º–µ

npm run dev - –∑–∞–ø—É—Å–∫ —Å nodemon (–∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞)

npm test - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

npm run lint - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ ESLint

npm run format - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ Prettier
```

## üåê –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤:

```bash
curl -X GET "http://localhost:3000/api/v1/recipes?page=1&limit=10"
–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞:
bash
curl -X POST "http://localhost:3000/api/v1/recipes" \
-H "Content-Type: application/json" \
-d '{
"title": "–ù–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç",
"description": "–û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞",
"category": "cat1",
"difficulty": "–ª–µ–≥–∫–æ",
"time": 30,
"servings": 4,
"ingredients": [
{"name": "–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç 1", "amount": "100 –≥"}
],
"steps": ["–®–∞–≥ 1", "–®–∞–≥ 2"]
}'
```

### –ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤:

```bash
curl -X GET "http://localhost:3000/api/v1/recipes/search?q=—Å–ø–∞–≥–µ—Ç—Ç–∏"
```

### üìä –°—Ç–∞—Ç—É—Å –∫–æ–¥—ã

- 200 - –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å

- 201 - –†–µ—Å—É—Ä—Å —Å–æ–∑–¥–∞–Ω

- 400 - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å

- 404 - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω

- 409 - –ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö

- 422 - –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

- 500 - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Node.js - —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- Express - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫

- Zod - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
