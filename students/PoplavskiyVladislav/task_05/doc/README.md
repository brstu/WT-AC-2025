# REST API для управления благотворительными пожертвованиями

Вариант - 17.
Выполнил - Поплавский Владислав.

RESTful API для управления благотворительными пожертвованиями с валидацией, обработкой ошибок и документацией Swagger.

## Запуск проекта

### Требования

* Node.js 16+
* npm

### Установка

npm install

### Запуск в режиме разработки

npm run dev

### Запуск в production

npm start

### Переменные окружения

Создайте файл .env в корне проекта:

PORT=3000
NODE_ENV=development
API_VERSION=v1

## API Endpoints

### Donations (/api/v1/donations)

* GET /api/v1/donations - получить список пожертвований с фильтрацией, сортировкой и пагинацией
* GET /api/v1/donations/:id - получить пожертвование по ID
* POST /api/v1/donations - создать новое пожертвование
* PUT /api/v1/donations/:id - обновить пожертвование
* DELETE /api/v1/donations/:id - удалить пожертвование
* GET /api/v1/donations/stats/summary - получить статистику по пожертвованиям

### Health Check

* GET / - главная страница API
* GET /health - проверка работоспособности сервера

## Документация API

* Документация Swagger доступна по адресу: /api-docs
* OpenAPI спецификация в JSON: /api-docs.json

## Валидация данных

### Пожертвования (Donation)

* donorName: строка, 2-100 символов (обязательное)
* amount: число, 1-1,000,000 (обязательное)
* currency: enum (USD, EUR, RUB, UAH) (обязательное)
* projectId: строка, 1-50 символов (обязательное)
* message: строка, до 500 символов (опциональное)
* isAnonymous: булево значение (опциональное, по умолчанию false)
* donationDate: строка в формате ISO 8601 (опциональное, по умолчанию текущая дата)

### Параметры запроса для GET /api/v1/donations

* limit: число, 1-100 (по умолчанию 10)
* offset: число, ≥0 (по умолчанию 0)
* projectId: строка - фильтр по ID проекта
* currency: enum (USD, EUR, RUB, UAH) - фильтр по валюте
* minAmount: число - минимальная сумма
* maxAmount: число - максимальная сумма
* sortBy: enum (amount, donationDate, donorName) - поле для сортировки
* sortOrder: enum (asc, desc) - порядок сортировки

## Коды ответов

* 200 - успешный запрос
* 201 - ресурс создан
* 204 - ресурс удален
* 400 - неверный запрос / ошибка валидации
* 404 - ресурс не найден
* 422 - ошибка обработки данных
* 500 - внутренняя ошибка сервера

## Хранение данных

Данные хранятся в памяти (in-memory storage) и сбрасываются при перезапуске сервера. Для начального тестирования добавлены примеры пожертвований.

## Технологии

* Node.js + Express.js - серверная часть
* Zod - валидация данных
* Swagger - документация API
* Morgan - логирование HTTP запросов
* CORS - обработка кросс-доменных запросов
* dotenv - управление переменными окружения
