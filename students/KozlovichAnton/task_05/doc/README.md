# Лабораторная работа №05

<p align="center">Министерство образования Республики Беларусь</p>
<p align="center">Учреждение образования</p>
<p align="center">"Брестский Государственный технический университет"</p>
<p align="center">Кафедра ИИТ</p>
<br><br><br><br><br><br>
<p align="center"><strong>Лабораторная работа №05</strong></p>
<p align="center"><strong>По дисциплине:</strong> "Веб-технологии"</p>
<p align="center"><strong>Тема:</strong> Серверное REST API на Node.js + Express</p>
<br><br><br><br><br><br>
<p align="right"><strong>Выполнил:</strong></p>
<p align="right">Студент 4 курса</p>
<p align="right">Группы АС-63</p>
<p align="right">Козлович А. А.</p>
<p align="right"><strong>Проверил:</strong></p>
<p align="right">Несюк А. Н.</p>
<br><br><br><br><br>
<p align="center"><strong>Брест 2025</strong></p>

---

## Цель работы

Реализовать базовую структуру Express-приложения и CRUD эндпоинты для ресурса с валидацией входных данных, централизованной обработкой ошибок и документацией Swagger.

---

### Вариант №7

API курсов/уроков с модулями

## Ход выполнения работы

### 1. Структура проекта

```
src/
├── index.js         — основной файл приложения с API
├── package.json     — конфигурация проекта и зависимости
├── data.json        — файл для хранения данных
├── .env             — переменные окружения
└── .gitignore       — игнорируемые файлы
```

### 2. Реализованные элементы

- **Базовая структура Express-приложения**: настроен npm-проект со скриптами `dev` и `start`
- **Middleware**: подключены `express.json()`, `cors`, `morgan` для логирования запросов
- **CRUD операции для курсов**:
  - GET `/courses` — получение списка курсов с поддержкой параметров `q` (поиск), `limit` и `offset` (пагинация)
  - GET `/courses/:id` — получение курса по ID
  - POST `/courses` — создание нового курса
  - PUT `/courses/:id` — полное обновление курса
  - PATCH `/courses/:id` — частичное обновление курса
  - DELETE `/courses/:id` — удаление курса
- **CRUD операции для уроков**:
  - GET `/lessons` — получение списка уроков с фильтрацией по `courseId`
  - GET `/lessons/:id` — получение урока по ID
  - POST `/lessons` — создание нового урока
  - DELETE `/lessons/:id` — удаление урока
- **Валидация данных**: использована библиотека Joi для валидации при создании курсов
- **Хранение данных**: временное хранение в JSON-файле
- **Документация API**: реализована документация через swagger-jsdoc и swagger-ui-express, доступна по адресу `/docs`
- **Переменные окружения**: настроены в файле `.env`
- **Статус-коды**: использованы коды 200, 201, 404, 400

### 3. Скриншоты выполненной лабораторной работы

#### 3.1 Главная страница API

![Главная страница](./screenshots/01_main.png)

#### 3.2 Документация Swagger

![Swagger документация](./screenshots/02_swagger.png)

#### 3.3 Получение списка курсов

![Список курсов](./screenshots/03_get_courses.png)

#### 3.4 Создание нового курса

![Создание курса](./screenshots/04_post_course.png)

#### 3.5 Получение курса по ID

![Курс по ID](./screenshots/05_get_course_id.png)

#### 3.6 Работа с уроками

![Уроки](./screenshots/06_lessons.png)

---

## Таблица критериев

| Критерий                                          | Выполнено |
|---------------------------------------------------|-----------|
| Структура/семантика API                           | ✅        |
| Функциональность CRUD                             | ✅        |
| Качество интерфейса API (валидация, ошибки, статус-коды) | ⚠️       |
| Качество кода/архитектуры                         | ⚠️       |
| Тесты/проверки (supertest)                        | ❌        |
| Документация/инструкция                           | ✅        |

### Дополнительные бонусы

| Бонус                                              | Выполнено |
|----------------------------------------------------|-----------|
| Фильтрация/поиск/сортировка                        | ⚠️       |
| Пагинация с метаданными                            | ❌        |
| Версионирование API                                | ❌        |

---

## Инструкция по запуску

1. Перейти в папку `src/`:

   ```bash
   cd src
   ```

2. Установить зависимости:

   ```bash
   npm install
   ```

3. Запустить сервер в режиме разработки:

   ```bash
   npm run dev
   ```

   Или в обычном режиме:

   ```bash
   npm start
   ```

4. Открыть документацию API:

   ```
   http://localhost:3000/docs
   ```

5. API доступен по адресу:

   ```
   http://localhost:3000
   ```

---

## Примеры запросов

### Получить все курсы

```bash
GET http://localhost:3000/courses
```

### Создать курс

```bash
POST http://localhost:3000/courses
Content-Type: application/json

{
  "title": "Node.js для начинающих",
  "description": "Изучение основ Node.js",
  "duration": 30,
  "instructor": "Сидоров С.С.",
  "price": 12000
}
```

### Получить курс по ID

```bash
GET http://localhost:3000/courses/1
```

### Обновить курс

```bash
PUT http://localhost:3000/courses/1
Content-Type: application/json

{
  "title": "Обновленный курс",
  "description": "Новое описание"
}
```

### Удалить курс

```bash
DELETE http://localhost:3000/courses/1
```

---

## Вывод

В ходе выполнения лабораторной работы был создан REST API для управления курсами и уроками на базе Node.js и Express. Реализованы основные CRUD операции, добавлена базовая валидация данных с использованием библиотеки Joi, настроена документация API через Swagger UI. Освоены навыки работы с Express middleware, обработки HTTP запросов, работы с JSON данными. Использованы инструменты: Node.js, Express, Joi, Swagger, Morgan, CORS.
